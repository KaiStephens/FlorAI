"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/PlanetScene.tsx":
/*!****************************************!*\
  !*** ./src/components/PlanetScene.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PlanetScene; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction PlanetScene() {\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!containerRef.current) return;\n        // Scene setup\n        const scene = new three__WEBPACK_IMPORTED_MODULE_2__.Scene();\n        // Add fog for depth\n        scene.fog = new three__WEBPACK_IMPORTED_MODULE_2__.FogExp2(0x000511, 0.01);\n        // Use a wider field of view to capture more of the scene\n        const camera = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);\n        // Enhanced renderer with better shadows\n        const renderer = new three__WEBPACK_IMPORTED_MODULE_2__.WebGLRenderer({\n            antialias: true,\n            alpha: true\n        });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setClearColor(0x000511);\n        renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_2__.ACESFilmicToneMapping;\n        renderer.toneMappingExposure = 1.2;\n        containerRef.current.appendChild(renderer.domElement);\n        // Enhanced Lighting\n        const ambientLight = new three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight(0xffffff, 0.8);\n        scene.add(ambientLight);\n        const pointLight = new three__WEBPACK_IMPORTED_MODULE_2__.PointLight(0xffffff, 2);\n        pointLight.position.set(25, 5, 15); // Position light to illuminate planet from right\n        scene.add(pointLight);\n        // Add a second point light for better illumination\n        const pointLight2 = new three__WEBPACK_IMPORTED_MODULE_2__.PointLight(0xc4f1de, 1.5);\n        pointLight2.position.set(-10, -5, -5);\n        scene.add(pointLight2);\n        // Create stars - simple and spread throughout the scene\n        const createStarField = ()=>{\n            const starCount = 3000;\n            const geometry = new three__WEBPACK_IMPORTED_MODULE_2__.BufferGeometry();\n            const positions = new Float32Array(starCount * 3);\n            // Create stars with a wider distribution\n            for(let i = 0; i < starCount; i++){\n                // Distribute stars in a cube formation that extends well beyond the camera view\n                positions[i * 3] = (Math.random() - 0.5) * 200;\n                positions[i * 3 + 1] = (Math.random() - 0.5) * 200;\n                positions[i * 3 + 2] = (Math.random() - 0.5) * 200;\n            }\n            geometry.setAttribute(\"position\", new three__WEBPACK_IMPORTED_MODULE_2__.BufferAttribute(positions, 3));\n            // Use a single star size instead of different sizes\n            const material = new three__WEBPACK_IMPORTED_MODULE_2__.PointsMaterial({\n                color: 0xffffff,\n                size: 0.2,\n                transparent: true,\n                opacity: 0.8\n            });\n            const stars = new three__WEBPACK_IMPORTED_MODULE_2__.Points(geometry, material);\n            scene.add(stars);\n            return [\n                stars\n            ]; // Return as an array to maintain compatibility with animation code\n        };\n        const starGroups = createStarField();\n        // Create planet (on the right side)\n        const planetGeometry = new three__WEBPACK_IMPORTED_MODULE_2__.SphereGeometry(12, 64, 64);\n        const planetMaterial = new three__WEBPACK_IMPORTED_MODULE_2__.MeshPhongMaterial({\n            map: new three__WEBPACK_IMPORTED_MODULE_2__.TextureLoader().load(\"https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_atmos_2048.jpg\"),\n            bumpMap: new three__WEBPACK_IMPORTED_MODULE_2__.TextureLoader().load(\"https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_normal_2048.jpg\"),\n            bumpScale: 0.05,\n            specularMap: new three__WEBPACK_IMPORTED_MODULE_2__.TextureLoader().load(\"https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_specular_2048.jpg\"),\n            specular: new three__WEBPACK_IMPORTED_MODULE_2__.Color(\"grey\"),\n            shininess: 15\n        });\n        const planet = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(planetGeometry, planetMaterial);\n        planet.position.set(20, 0, 30);\n        scene.add(planet);\n        // Add plant-like atmosphere\n        const atmosphereGeometry = new three__WEBPACK_IMPORTED_MODULE_2__.SphereGeometry(12.4, 64, 64);\n        const atmosphereMaterial = new three__WEBPACK_IMPORTED_MODULE_2__.ShaderMaterial({\n            transparent: true,\n            side: three__WEBPACK_IMPORTED_MODULE_2__.BackSide,\n            vertexShader: \"\\n                varying vec3 vNormal;\\n                void main() {\\n                    vNormal = normalize(normalMatrix * normal);\\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n                }\\n            \",\n            fragmentShader: \"\\n                varying vec3 vNormal;\\n                void main() {\\n                    float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\\n                    gl_FragColor = vec4(0.4, 0.8, 0.4, 1.0) * intensity;\\n                }\\n            \"\n        });\n        const atmosphere = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(atmosphereGeometry, atmosphereMaterial);\n        atmosphere.position.copy(planet.position); // Match planet position exactly\n        scene.add(atmosphere);\n        // Camera position - adjusted for the much larger and further-right planet\n        camera.position.set(-20, 0, 25);\n        // Look at a point much further to the right\n        camera.lookAt(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(60, 0, 0));\n        // Animation\n        function animate() {\n            requestAnimationFrame(animate);\n            // Keep atmosphere with planet\n            atmosphere.position.copy(planet.position);\n            // Rotate star fields slightly for subtle movement\n            starGroups.forEach((stars, i)=>{\n                stars.rotation.y += 0.0001 * (i + 1);\n                stars.rotation.x += 0.00005 * (i + 1);\n            });\n            renderer.render(scene, camera);\n        }\n        // Handle wheel events for rotation - this is more direct than scroll\n        const handleWheel = (event)=>{\n            // Determine direction and force of wheel event\n            const delta = event.deltaY;\n            // Apply rotation directly to the planet\n            planet.rotation.y += delta * 0.002;\n            atmosphere.rotation.y = planet.rotation.y;\n            // Move planet closer (decrease z) as it rotates\n            // Only decrease z down to a minimum of 0\n            const currentZ = planet.position.z;\n            if (currentZ > 0) {\n                // Decrease z proportional to rotation amount but always moving forward\n                const zDelta = Math.abs(delta) * 0.01;\n                planet.position.z = Math.max(0, currentZ - zDelta);\n                // Keep atmosphere with planet\n                atmosphere.position.copy(planet.position);\n            }\n        };\n        // Function to update planet z-position based on scroll\n        const updatePlanetPosition = ()=>{\n            // Get current scroll position as percentage of page height\n            const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;\n            const scrollTop = window.scrollY || document.documentElement.scrollTop;\n            const scrollPercent = Math.min(scrollTop / scrollHeight, 1);\n            // Calculate x-position: 20 at top of page, gradually increasing to 100 as we scroll\n            // Only start moving after 10% of scroll and complete by 70% of scroll\n            let xPos = 20;\n            if (scrollPercent > 0.1) {\n                // Map 10%-70% scroll to full x-position change (20 to 100)\n                const xScrollPercent = Math.min((scrollPercent - 0.1) / 0.6, 1);\n                xPos = 20 + 80 * xScrollPercent; // Move from 20 to 100\n            }\n            // Update planet position - keep z at 30, move x to the right\n            planet.position.set(xPos, 0, 30);\n        };\n        // Track touch position for mobile devices\n        let touchStartY = 0;\n        // Handle touch events for mobile\n        const handleTouchStart = (event)=>{\n            touchStartY = event.touches[0].clientY;\n        };\n        const handleTouchMove = (event)=>{\n            // Skip if no starting position\n            if (touchStartY === 0) return;\n            // Calculate delta (negative to match wheel direction)\n            const touchDelta = -(event.touches[0].clientY - touchStartY) * 10;\n            // Apply rotation just like with wheel events\n            planet.rotation.y += touchDelta * 0.002;\n            atmosphere.rotation.y = planet.rotation.y;\n            // Move planet closer (decrease z) as it rotates\n            // Only decrease z down to a minimum of 0\n            const currentZ = planet.position.z;\n            if (currentZ > 0) {\n                // Decrease z proportional to rotation amount but always moving forward\n                const zDelta = Math.abs(touchDelta) * 0.01;\n                planet.position.z = Math.max(0, currentZ - zDelta);\n                // Keep atmosphere with planet\n                atmosphere.position.copy(planet.position);\n            }\n            // Update start position\n            touchStartY = event.touches[0].clientY;\n        };\n        const handleTouchEnd = ()=>{\n            touchStartY = 0;\n        };\n        // Handle scroll events to update planet position\n        const handleScroll = ()=>{\n            updatePlanetPosition();\n        };\n        // Handle window resize\n        const handleResize = ()=>{\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            // Update planet position on resize too\n            updatePlanetPosition();\n        };\n        window.addEventListener(\"resize\", handleResize);\n        window.addEventListener(\"scroll\", handleScroll, {\n            passive: true\n        });\n        // Add wheel event listener to the container\n        window.addEventListener(\"wheel\", handleWheel, {\n            passive: true\n        });\n        // Add touch events for mobile\n        window.addEventListener(\"touchstart\", handleTouchStart, {\n            passive: true\n        });\n        window.addEventListener(\"touchmove\", handleTouchMove, {\n            passive: true\n        });\n        window.addEventListener(\"touchend\", handleTouchEnd, {\n            passive: true\n        });\n        // Initial rotation so Earth is visible\n        planet.rotation.y = 0.5;\n        atmosphere.rotation.y = 0.5;\n        // Set initial planet position\n        updatePlanetPosition();\n        // Start animation\n        animate();\n        // Create an IntersectionObserver to rotate the planet when page sections come into view\n        // This provides a backup method in case wheel events don't work well\n        setTimeout(()=>{\n            const sections = document.querySelectorAll(\"section\");\n            if (sections.length > 0) {\n                let currentSectionIndex = 0;\n                const sectionObserver = new IntersectionObserver((entries)=>{\n                    entries.forEach((entry)=>{\n                        if (entry.isIntersecting) {\n                            // Get the section index\n                            const section = entry.target;\n                            const index = Array.from(sections).indexOf(section);\n                            // Determine rotation based on section index\n                            // Ensure we only rotate if we're moving to a new section\n                            if (index !== currentSectionIndex) {\n                                // Rotate 1/4 turn per section\n                                planet.rotation.y = Math.PI / 2 * index;\n                                atmosphere.rotation.y = planet.rotation.y;\n                                currentSectionIndex = index;\n                            }\n                        }\n                    });\n                }, {\n                    threshold: 0.3\n                }); // Trigger when 30% of section is visible\n                // Observe all sections\n                sections.forEach((section)=>{\n                    sectionObserver.observe(section);\n                });\n            }\n        }, 1000); // Wait for sections to be ready\n        // Cleanup\n        return ()=>{\n            var _containerRef_current;\n            window.removeEventListener(\"resize\", handleResize);\n            window.removeEventListener(\"wheel\", handleWheel);\n            window.removeEventListener(\"touchstart\", handleTouchStart);\n            window.removeEventListener(\"touchmove\", handleTouchMove);\n            window.removeEventListener(\"touchend\", handleTouchEnd);\n            (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.removeChild(renderer.domElement);\n            renderer.dispose();\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100%\",\n            height: \"100%\",\n            zIndex: 1\n        }\n    }, void 0, false, {\n        fileName: \"/Users/kaistephens/Downloads/code/florAI/webApp/FlorAI/src/components/PlanetScene.tsx\",\n        lineNumber: 298,\n        columnNumber: 9\n    }, this);\n}\n_s(PlanetScene, \"8puyVO4ts1RhCfXUmci3vLI3Njw=\");\n_c = PlanetScene;\nvar _c;\n$RefreshReg$(_c, \"PlanetScene\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1BsYW5ldFNjZW5lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRTBDO0FBQ1g7QUFHaEIsU0FBU0c7O0lBQ3BCLE1BQU1DLGVBQWVILDZDQUFNQSxDQUFpQjtJQUU1Q0QsZ0RBQVNBLENBQUM7UUFDTixJQUFJLENBQUNJLGFBQWFDLE9BQU8sRUFBRTtRQUUzQixjQUFjO1FBQ2QsTUFBTUMsUUFBUSxJQUFJSix3Q0FBVztRQUU3QixvQkFBb0I7UUFDcEJJLE1BQU1FLEdBQUcsR0FBRyxJQUFJTiwwQ0FBYSxDQUFDLFVBQVU7UUFFeEMseURBQXlEO1FBQ3pELE1BQU1RLFNBQVMsSUFBSVIsb0RBQXVCLENBQUMsSUFBSVUsT0FBT0MsVUFBVSxHQUFHRCxPQUFPRSxXQUFXLEVBQUUsS0FBSztRQUU1Rix3Q0FBd0M7UUFDeEMsTUFBTUMsV0FBVyxJQUFJYixnREFBbUIsQ0FBQztZQUNyQ2UsV0FBVztZQUNYQyxPQUFPO1FBQ1g7UUFDQUgsU0FBU0ksT0FBTyxDQUFDUCxPQUFPQyxVQUFVLEVBQUVELE9BQU9FLFdBQVc7UUFDdERDLFNBQVNLLGFBQWEsQ0FBQztRQUN2QkwsU0FBU00sV0FBVyxHQUFHbkIsd0RBQTJCO1FBQ2xEYSxTQUFTUSxtQkFBbUIsR0FBRztRQUMvQm5CLGFBQWFDLE9BQU8sQ0FBQ21CLFdBQVcsQ0FBQ1QsU0FBU1UsVUFBVTtRQUVwRCxvQkFBb0I7UUFDcEIsTUFBTUMsZUFBZSxJQUFJeEIsK0NBQWtCLENBQUMsVUFBVTtRQUN0REksTUFBTXNCLEdBQUcsQ0FBQ0Y7UUFFVixNQUFNRyxhQUFhLElBQUkzQiw2Q0FBZ0IsQ0FBQyxVQUFVO1FBQ2xEMkIsV0FBV0UsUUFBUSxDQUFDQyxHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssaURBQWlEO1FBQ3JGMUIsTUFBTXNCLEdBQUcsQ0FBQ0M7UUFFVixtREFBbUQ7UUFDbkQsTUFBTUksY0FBYyxJQUFJL0IsNkNBQWdCLENBQUMsVUFB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S0FBSztZQUNMQyxNQUFNO1lBQ05DLE9BQU87WUFDUEMsUUFBUTtZQUNSQyxRQUFRO1FBQ1o7Ozs7OztBQUdaO0dBL1N3QmpKO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL1BsYW5ldFNjZW5lLnRzeD85YTE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQbGFuZXRTY2VuZSgpIHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFNjZW5lIHNldHVwXG4gICAgICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgZm9nIGZvciBkZXB0aFxuICAgICAgICBzY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMigweDAwMDUxMSwgMC4wMSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgYSB3aWRlciBmaWVsZCBvZiB2aWV3IHRvIGNhcHR1cmUgbW9yZSBvZiB0aGUgc2NlbmVcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDYwLCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEVuaGFuY2VkIHJlbmRlcmVyIHdpdGggYmV0dGVyIHNoYWRvd3NcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IFxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICAgICAgYWxwaGE6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgICByZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4MDAwNTExKTtcbiAgICAgICAgcmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICAgIHJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxLjI7XG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgICAgIC8vIEVuaGFuY2VkIExpZ2h0aW5nXG4gICAgICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDAuOCk7XG4gICAgICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xuXG4gICAgICAgIGNvbnN0IHBvaW50TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZmZmZmZiwgMik7XG4gICAgICAgIHBvaW50TGlnaHQucG9zaXRpb24uc2V0KDI1LCA1LCAxNSk7IC8vIFBvc2l0aW9uIGxpZ2h0IHRvIGlsbHVtaW5hdGUgcGxhbmV0IGZyb20gcmlnaHRcbiAgICAgICAgc2NlbmUuYWRkKHBvaW50TGlnaHQpO1xuXG4gICAgICAgIC8vIEFkZCBhIHNlY29uZCBwb2ludCBsaWdodCBmb3IgYmV0dGVyIGlsbHVtaW5hdGlvblxuICAgICAgICBjb25zdCBwb2ludExpZ2h0MiA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4YzRmMWRlLCAxLjUpO1xuICAgICAgICBwb2ludExpZ2h0Mi5wb3NpdGlvbi5zZXQoLTEwLCAtNSwgLTUpO1xuICAgICAgICBzY2VuZS5hZGQocG9pbnRMaWdodDIpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBzdGFycyAtIHNpbXBsZSBhbmQgc3ByZWFkIHRocm91Z2hvdXQgdGhlIHNjZW5lXG4gICAgICAgIGNvbnN0IGNyZWF0ZVN0YXJGaWVsZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJDb3VudCA9IDMwMDA7XG4gICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShzdGFyQ291bnQgKiAzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHN0YXJzIHdpdGggYSB3aWRlciBkaXN0cmlidXRpb25cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhckNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBEaXN0cmlidXRlIHN0YXJzIGluIGEgY3ViZSBmb3JtYXRpb24gdGhhdCBleHRlbmRzIHdlbGwgYmV5b25kIHRoZSBjYW1lcmEgdmlld1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uc1tpICogM10gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyMDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zW2kgKiAzICsgMV0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyMDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zW2kgKiAzICsgMl0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywgMykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVc2UgYSBzaW5nbGUgc3RhciBzaXplIGluc3RlYWQgb2YgZGlmZmVyZW50IHNpemVzXG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5Qb2ludHNNYXRlcmlhbCh7IFxuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmZmZmZiwgXG4gICAgICAgICAgICAgICAgc2l6ZTogMC4yLCAvLyBTbWFsbGVyLCBlcXVhbC1zaXplZCBzdGFyc1xuICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLCBcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjggXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3RhcnMgPSBuZXcgVEhSRUUuUG9pbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICBzY2VuZS5hZGQoc3RhcnMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gW3N0YXJzXTsgLy8gUmV0dXJuIGFzIGFuIGFycmF5IHRvIG1haW50YWluIGNvbXBhdGliaWxpdHkgd2l0aCBhbmltYXRpb24gY29kZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3Rhckdyb3VwcyA9IGNyZWF0ZVN0YXJGaWVsZCgpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBwbGFuZXQgKG9uIHRoZSByaWdodCBzaWRlKVxuICAgICAgICBjb25zdCBwbGFuZXRHZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgxMiwgNjQsIDY0KTtcbiAgICAgICAgY29uc3QgcGxhbmV0TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgICAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tcmRvb2IvdGhyZWUuanMvZGV2L2V4YW1wbGVzL3RleHR1cmVzL3BsYW5ldHMvZWFydGhfYXRtb3NfMjA0OC5qcGcnKSxcbiAgICAgICAgICAgIGJ1bXBNYXA6IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL21yZG9vYi90aHJlZS5qcy9kZXYvZXhhbXBsZXMvdGV4dHVyZXMvcGxhbmV0cy9lYXJ0aF9ub3JtYWxfMjA0OC5qcGcnKSxcbiAgICAgICAgICAgIGJ1bXBTY2FsZTogMC4wNSxcbiAgICAgICAgICAgIHNwZWN1bGFyTWFwOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tcmRvb2IvdGhyZWUuanMvZGV2L2V4YW1wbGVzL3RleHR1cmVzL3BsYW5ldHMvZWFydGhfc3BlY3VsYXJfMjA0OC5qcGcnKSxcbiAgICAgICAgICAgIHNwZWN1bGFyOiBuZXcgVEhSRUUuQ29sb3IoJ2dyZXknKSxcbiAgICAgICAgICAgIHNoaW5pbmVzczogMTVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBsYW5ldCA9IG5ldyBUSFJFRS5NZXNoKHBsYW5ldEdlb21ldHJ5LCBwbGFuZXRNYXRlcmlhbCk7XG4gICAgICAgIHBsYW5ldC5wb3NpdGlvbi5zZXQoMjAsIDAsIDMwKTtcbiAgICAgICAgc2NlbmUuYWRkKHBsYW5ldCk7XG5cbiAgICAgICAgLy8gQWRkIHBsYW50LWxpa2UgYXRtb3NwaGVyZVxuICAgICAgICBjb25zdCBhdG1vc3BoZXJlR2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMTIuNCwgNjQsIDY0KTtcbiAgICAgICAgY29uc3QgYXRtb3NwaGVyZU1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGUsXG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IGBcbiAgICAgICAgICAgICAgICB2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiAgICAgICAgICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZOb3JtYWwgPSBub3JtYWxpemUobm9ybWFsTWF0cml4ICogbm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGBcbiAgICAgICAgICAgICAgICB2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiAgICAgICAgICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IGludGVuc2l0eSA9IHBvdygwLjcgLSBkb3Qodk5vcm1hbCwgdmVjMygwLjAsIDAuMCwgMS4wKSksIDIuMCk7XG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC40LCAwLjgsIDAuNCwgMS4wKSAqIGludGVuc2l0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhdG1vc3BoZXJlID0gbmV3IFRIUkVFLk1lc2goYXRtb3NwaGVyZUdlb21ldHJ5LCBhdG1vc3BoZXJlTWF0ZXJpYWwpO1xuICAgICAgICBhdG1vc3BoZXJlLnBvc2l0aW9uLmNvcHkocGxhbmV0LnBvc2l0aW9uKTsgLy8gTWF0Y2ggcGxhbmV0IHBvc2l0aW9uIGV4YWN0bHlcbiAgICAgICAgc2NlbmUuYWRkKGF0bW9zcGhlcmUpO1xuXG4gICAgICAgIC8vIENhbWVyYSBwb3NpdGlvbiAtIGFkanVzdGVkIGZvciB0aGUgbXVjaCBsYXJnZXIgYW5kIGZ1cnRoZXItcmlnaHQgcGxhbmV0XG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoLTIwLCAwLCAyNSk7XG4gICAgICAgIC8vIExvb2sgYXQgYSBwb2ludCBtdWNoIGZ1cnRoZXIgdG8gdGhlIHJpZ2h0XG4gICAgICAgIGNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoNjAsIDAsIDApKTtcblxuICAgICAgICAvLyBBbmltYXRpb25cbiAgICAgICAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gS2VlcCBhdG1vc3BoZXJlIHdpdGggcGxhbmV0XG4gICAgICAgICAgICBhdG1vc3BoZXJlLnBvc2l0aW9uLmNvcHkocGxhbmV0LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUm90YXRlIHN0YXIgZmllbGRzIHNsaWdodGx5IGZvciBzdWJ0bGUgbW92ZW1lbnRcbiAgICAgICAgICAgIHN0YXJHcm91cHMuZm9yRWFjaCgoc3RhcnMsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBzdGFycy5yb3RhdGlvbi55ICs9IDAuMDAwMSAqIChpICsgMSk7XG4gICAgICAgICAgICAgICAgc3RhcnMucm90YXRpb24ueCArPSAwLjAwMDA1ICogKGkgKyAxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSB3aGVlbCBldmVudHMgZm9yIHJvdGF0aW9uIC0gdGhpcyBpcyBtb3JlIGRpcmVjdCB0aGFuIHNjcm9sbFxuICAgICAgICBjb25zdCBoYW5kbGVXaGVlbCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGRpcmVjdGlvbiBhbmQgZm9yY2Ugb2Ygd2hlZWwgZXZlbnRcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGVsdGFZO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBcHBseSByb3RhdGlvbiBkaXJlY3RseSB0byB0aGUgcGxhbmV0XG4gICAgICAgICAgICBwbGFuZXQucm90YXRpb24ueSArPSBkZWx0YSAqIDAuMDAyO1xuICAgICAgICAgICAgYXRtb3NwaGVyZS5yb3RhdGlvbi55ID0gcGxhbmV0LnJvdGF0aW9uLnk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE1vdmUgcGxhbmV0IGNsb3NlciAoZGVjcmVhc2UgeikgYXMgaXQgcm90YXRlc1xuICAgICAgICAgICAgLy8gT25seSBkZWNyZWFzZSB6IGRvd24gdG8gYSBtaW5pbXVtIG9mIDBcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRaID0gcGxhbmV0LnBvc2l0aW9uLno7XG4gICAgICAgICAgICBpZiAoY3VycmVudFogPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVjcmVhc2UgeiBwcm9wb3J0aW9uYWwgdG8gcm90YXRpb24gYW1vdW50IGJ1dCBhbHdheXMgbW92aW5nIGZvcndhcmRcbiAgICAgICAgICAgICAgICBjb25zdCB6RGVsdGEgPSBNYXRoLmFicyhkZWx0YSkgKiAwLjAxO1xuICAgICAgICAgICAgICAgIHBsYW5ldC5wb3NpdGlvbi56ID0gTWF0aC5tYXgoMCwgY3VycmVudFogLSB6RGVsdGEpO1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYXRtb3NwaGVyZSB3aXRoIHBsYW5ldFxuICAgICAgICAgICAgICAgIGF0bW9zcGhlcmUucG9zaXRpb24uY29weShwbGFuZXQucG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHBsYW5ldCB6LXBvc2l0aW9uIGJhc2VkIG9uIHNjcm9sbFxuICAgICAgICBjb25zdCB1cGRhdGVQbGFuZXRQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbiBhcyBwZXJjZW50YWdlIG9mIHBhZ2UgaGVpZ2h0XG4gICAgICAgICAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFBlcmNlbnQgPSBNYXRoLm1pbihzY3JvbGxUb3AgLyBzY3JvbGxIZWlnaHQsIDEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgeC1wb3NpdGlvbjogMjAgYXQgdG9wIG9mIHBhZ2UsIGdyYWR1YWxseSBpbmNyZWFzaW5nIHRvIDEwMCBhcyB3ZSBzY3JvbGxcbiAgICAgICAgICAgIC8vIE9ubHkgc3RhcnQgbW92aW5nIGFmdGVyIDEwJSBvZiBzY3JvbGwgYW5kIGNvbXBsZXRlIGJ5IDcwJSBvZiBzY3JvbGxcbiAgICAgICAgICAgIGxldCB4UG9zID0gMjA7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsUGVyY2VudCA+IDAuMSkge1xuICAgICAgICAgICAgICAgIC8vIE1hcCAxMCUtNzAlIHNjcm9sbCB0byBmdWxsIHgtcG9zaXRpb24gY2hhbmdlICgyMCB0byAxMDApXG4gICAgICAgICAgICAgICAgY29uc3QgeFNjcm9sbFBlcmNlbnQgPSBNYXRoLm1pbigoc2Nyb2xsUGVyY2VudCAtIDAuMSkgLyAwLjYsIDEpO1xuICAgICAgICAgICAgICAgIHhQb3MgPSAyMCArICg4MCAqIHhTY3JvbGxQZXJjZW50KTsgLy8gTW92ZSBmcm9tIDIwIHRvIDEwMFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgcGxhbmV0IHBvc2l0aW9uIC0ga2VlcCB6IGF0IDMwLCBtb3ZlIHggdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICBwbGFuZXQucG9zaXRpb24uc2V0KHhQb3MsIDAsIDMwKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyYWNrIHRvdWNoIHBvc2l0aW9uIGZvciBtb2JpbGUgZGV2aWNlc1xuICAgICAgICBsZXQgdG91Y2hTdGFydFkgPSAwO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIHRvdWNoIGV2ZW50cyBmb3IgbW9iaWxlXG4gICAgICAgIGNvbnN0IGhhbmRsZVRvdWNoU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRvdWNoU3RhcnRZID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaGFuZGxlVG91Y2hNb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBTa2lwIGlmIG5vIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAgICAgICAgICBpZiAodG91Y2hTdGFydFkgPT09IDApIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGRlbHRhIChuZWdhdGl2ZSB0byBtYXRjaCB3aGVlbCBkaXJlY3Rpb24pXG4gICAgICAgICAgICBjb25zdCB0b3VjaERlbHRhID0gLShldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSB0b3VjaFN0YXJ0WSkgKiAxMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQXBwbHkgcm90YXRpb24ganVzdCBsaWtlIHdpdGggd2hlZWwgZXZlbnRzXG4gICAgICAgICAgICBwbGFuZXQucm90YXRpb24ueSArPSB0b3VjaERlbHRhICogMC4wMDI7XG4gICAgICAgICAgICBhdG1vc3BoZXJlLnJvdGF0aW9uLnkgPSBwbGFuZXQucm90YXRpb24ueTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTW92ZSBwbGFuZXQgY2xvc2VyIChkZWNyZWFzZSB6KSBhcyBpdCByb3RhdGVzXG4gICAgICAgICAgICAvLyBPbmx5IGRlY3JlYXNlIHogZG93biB0byBhIG1pbmltdW0gb2YgMFxuICAgICAgICAgICAgY29uc3QgY3VycmVudFogPSBwbGFuZXQucG9zaXRpb24uejtcbiAgICAgICAgICAgIGlmIChjdXJyZW50WiA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBEZWNyZWFzZSB6IHByb3BvcnRpb25hbCB0byByb3RhdGlvbiBhbW91bnQgYnV0IGFsd2F5cyBtb3ZpbmcgZm9yd2FyZFxuICAgICAgICAgICAgICAgIGNvbnN0IHpEZWx0YSA9IE1hdGguYWJzKHRvdWNoRGVsdGEpICogMC4wMTtcbiAgICAgICAgICAgICAgICBwbGFuZXQucG9zaXRpb24ueiA9IE1hdGgubWF4KDAsIGN1cnJlbnRaIC0gekRlbHRhKTtcbiAgICAgICAgICAgICAgICAvLyBLZWVwIGF0bW9zcGhlcmUgd2l0aCBwbGFuZXRcbiAgICAgICAgICAgICAgICBhdG1vc3BoZXJlLnBvc2l0aW9uLmNvcHkocGxhbmV0LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgICAgICB0b3VjaFN0YXJ0WSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGhhbmRsZVRvdWNoRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgdG91Y2hTdGFydFkgPSAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEhhbmRsZSBzY3JvbGwgZXZlbnRzIHRvIHVwZGF0ZSBwbGFuZXQgcG9zaXRpb25cbiAgICAgICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICAgICAgdXBkYXRlUGxhbmV0UG9zaXRpb24oKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6ZVxuICAgICAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHBsYW5ldCBwb3NpdGlvbiBvbiByZXNpemUgdG9vXG4gICAgICAgICAgICB1cGRhdGVQbGFuZXRQb3NpdGlvbigpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgd2hlZWwgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNvbnRhaW5lclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBoYW5kbGVXaGVlbCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRvdWNoIGV2ZW50cyBmb3IgbW9iaWxlXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hTdGFydCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbml0aWFsIHJvdGF0aW9uIHNvIEVhcnRoIGlzIHZpc2libGVcbiAgICAgICAgcGxhbmV0LnJvdGF0aW9uLnkgPSAwLjU7XG4gICAgICAgIGF0bW9zcGhlcmUucm90YXRpb24ueSA9IDAuNTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHBsYW5ldCBwb3NpdGlvblxuICAgICAgICB1cGRhdGVQbGFuZXRQb3NpdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhcnQgYW5pbWF0aW9uXG4gICAgICAgIGFuaW1hdGUoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgdG8gcm90YXRlIHRoZSBwbGFuZXQgd2hlbiBwYWdlIHNlY3Rpb25zIGNvbWUgaW50byB2aWV3XG4gICAgICAgIC8vIFRoaXMgcHJvdmlkZXMgYSBiYWNrdXAgbWV0aG9kIGluIGNhc2Ugd2hlZWwgZXZlbnRzIGRvbid0IHdvcmsgd2VsbFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpO1xuICAgICAgICAgICAgaWYgKHNlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFNlY3Rpb25JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHNlY3Rpb24gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gZW50cnkudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gQXJyYXkuZnJvbShzZWN0aW9ucykuaW5kZXhPZihzZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgcm90YXRpb24gYmFzZWQgb24gc2VjdGlvbiBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB3ZSBvbmx5IHJvdGF0ZSBpZiB3ZSdyZSBtb3ZpbmcgdG8gYSBuZXcgc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gY3VycmVudFNlY3Rpb25JbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb3RhdGUgMS80IHR1cm4gcGVyIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhbmV0LnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMiAqIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdG1vc3BoZXJlLnJvdGF0aW9uLnkgPSBwbGFuZXQucm90YXRpb24ueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlY3Rpb25JbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgeyB0aHJlc2hvbGQ6IDAuMyB9KTsgLy8gVHJpZ2dlciB3aGVuIDMwJSBvZiBzZWN0aW9uIGlzIHZpc2libGVcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBPYnNlcnZlIGFsbCBzZWN0aW9uc1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHNlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTsgLy8gV2FpdCBmb3Igc2VjdGlvbnMgdG8gYmUgcmVhZHlcblxuICAgICAgICAvLyBDbGVhbnVwXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIGhhbmRsZVdoZWVsKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hTdGFydCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVG91Y2hNb3ZlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kKTtcbiAgICAgICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50Py5yZW1vdmVDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9IFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMVxuICAgICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICApO1xufSAiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiVEhSRUUiLCJQbGFuZXRTY2VuZSIsImNvbnRhaW5lclJlZiIsImN1cnJlbnQiLCJzY2VuZSIsIlNjZW5lIiwiZm9nIiwiRm9nRXhwMiIsImNhbWVyYSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicmVuZGVyZXIiLCJXZWJHTFJlbmRlcmVyIiwiYW50aWFsaWFzIiwiYWxwaGEiLCJzZXRTaXplIiwic2V0Q2xlYXJDb2xvciIsInRvbmVNYXBwaW5nIiwiQUNFU0ZpbG1pY1RvbmVNYXBwaW5nIiwidG9uZU1hcHBpbmdFeHBvc3VyZSIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImFtYmllbnRMaWdodCIsIkFtYmllbnRMaWdodCIsImFkZCIsInBvaW50TGlnaHQiLCJQb2ludExpZ2h0IiwicG9zaXRpb24iLCJzZXQiLCJwb2ludExpZ2h0MiIsImNyZWF0ZVN0YXJGaWVsZCIsInN0YXJDb3VudCIsImdlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJwb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJpIiwiTWF0aCIsInJhbmRvbSIsInNldEF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIm1hdGVyaWFsIiwiUG9pbnRzTWF0ZXJpYWwiLCJjb2xvciIsInNpemUiLCJ0cmFuc3BhcmVudCIsIm9wYWNpdHkiLCJzdGFycyIsIlBvaW50cyIsInN0YXJHcm91cHMiLCJwbGFuZXRHZW9tZXRyeSIsIlNwaGVyZUdlb21ldHJ5IiwicGxhbmV0TWF0ZXJpYWwiLCJNZXNoUGhvbmdNYXRlcmlhbCIsIm1hcCIsIlRleHR1cmVMb2FkZXIiLCJsb2FkIiwiYnVtcE1hcCIsImJ1bXBTY2FsZSIsInNwZWN1bGFyTWFwIiwic3BlY3VsYXIiLCJDb2xvciIsInNoaW5pbmVzcyIsInBsYW5ldCIsIk1lc2giLCJhdG1vc3BoZXJlR2VvbWV0cnkiLCJhdG1vc3BoZXJlTWF0ZXJpYWwiLCJTaGFkZXJNYXRlcmlhbCIsInNpZGUiLCJCYWNrU2lkZSIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiYXRtb3NwaGVyZSIsImNvcHkiLCJsb29rQXQiLCJWZWN0b3IzIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZvckVhY2giLCJyb3RhdGlvbiIsInkiLCJ4IiwicmVuZGVyIiwiaGFuZGxlV2hlZWwiLCJldmVudCIsImRlbHRhIiwiZGVsdGFZIiwiY3VycmVudFoiLCJ6IiwiekRlbHRhIiwiYWJzIiwibWF4IiwidXBkYXRlUGxhbmV0UG9zaXRpb24iLCJzY3JvbGxIZWlnaHQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvcCIsInNjcm9sbFkiLCJzY3JvbGxQZXJjZW50IiwibWluIiwieFBvcyIsInhTY3JvbGxQZXJjZW50IiwidG91Y2hTdGFydFkiLCJoYW5kbGVUb3VjaFN0YXJ0IiwidG91Y2hlcyIsImNsaWVudFkiLCJoYW5kbGVUb3VjaE1vdmUiLCJ0b3VjaERlbHRhIiwiaGFuZGxlVG91Y2hFbmQiLCJoYW5kbGVTY3JvbGwiLCJoYW5kbGVSZXNpemUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJzZXRUaW1lb3V0Iiwic2VjdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiY3VycmVudFNlY3Rpb25JbmRleCIsInNlY3Rpb25PYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJzZWN0aW9uIiwidGFyZ2V0IiwiaW5kZXgiLCJBcnJheSIsImZyb20iLCJpbmRleE9mIiwiUEkiLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIiwiZGlzcG9zZSIsImRpdiIsInJlZiIsInN0eWxlIiwidG9wIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiekluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PlanetScene.tsx\n"));

/***/ })

});