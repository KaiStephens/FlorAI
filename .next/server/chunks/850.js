"use strict";exports.id=850,exports.ids=[850],exports.modules={9850:(e,t,r)=>{r.d(t,{LZ:()=>s,Vs:()=>n});var o=r(5797);function n(e,t){if(t===o.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==o.TriangleFanDrawMode&&t!==o.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let r=e.getIndex();if(null===r){let t=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<o.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}let n=r.count-2,s=[];if(r){if(t===o.TriangleFanDrawMode)for(let e=1;e<=n;e++)s.push(r.getX(0)),s.push(r.getX(e)),s.push(r.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(s.push(r.getX(e)),s.push(r.getX(e+1)),s.push(r.getX(e+2))):(s.push(r.getX(e+2)),s.push(r.getX(e+1)),s.push(r.getX(e)))}s.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let l=e.clone();return l.setIndex(s),l.clearGroups(),l}}function s(e,t=Math.PI/3){let r=Math.cos(t),n=(1+1e-10)*100,s=[new o.Vector3,new o.Vector3,new o.Vector3],l=new o.Vector3,u=new o.Vector3,i=new o.Vector3,f=new o.Vector3;function a(e){let t=~~(e.x*n),r=~~(e.y*n),o=~~(e.z*n);return`${t},${r},${o}`}let c=e.index?e.toNonIndexed():e,d=c.attributes.position,g={};for(let e=0,t=d.count/3;e<t;e++){let t=3*e,r=s[0].fromBufferAttribute(d,t+0),n=s[1].fromBufferAttribute(d,t+1),i=s[2].fromBufferAttribute(d,t+2);l.subVectors(i,n),u.subVectors(r,n);let f=new o.Vector3().crossVectors(l,u).normalize();for(let e=0;e<3;e++){let t=a(s[e]);t in g||(g[t]=[]),g[t].push(f)}}let w=new Float32Array(3*d.count),p=new o.BufferAttribute(w,3,!1);for(let e=0,t=d.count/3;e<t;e++){let t=3*e,o=s[0].fromBufferAttribute(d,t+0),n=s[1].fromBufferAttribute(d,t+1),c=s[2].fromBufferAttribute(d,t+2);l.subVectors(c,n),u.subVectors(o,n),i.crossVectors(l,u).normalize();for(let e=0;e<3;e++){let o=g[a(s[e])];f.set(0,0,0);for(let e=0,t=o.length;e<t;e++){let t=o[e];i.dot(t)>r&&f.add(t)}f.normalize(),p.setXYZ(t+e,f.x,f.y,f.z)}}return c.setAttribute("normal",p),c}}};